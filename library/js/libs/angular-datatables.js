"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="datatables"),function(h,e,D,m){"use strict";function n(s,d,u,c,l,f){return e.$inject=["tElm"],n.$inject=["$scope"],{restrict:"A",scope:{dtOptions:"=",dtColumns:"=",dtColumnDefs:"=",datatable:"@",dtInstance:"="},compile:e,controller:n};function e(e){var i=e[0].innerHTML;return function(n,t,e,r){function a(e,n){e!==n&&r.render(t,r.buildOptionsPromise(),i)}var o=e.dtDisableDeepWatchers?"$watchCollection":"$watch";m.forEach(["dtColumns","dtColumnDefs","dtOptions"],function(e){n[o].call(n,e,a,!0)}),l.showLoading(t,n),r.render(t,r.buildOptionsPromise(),i)}}function n(a){var o;function i(e){m.isFunction(a.dtInstance)?a.dtInstance(e):m.isDefined(a.dtInstance)&&(a.dtInstance=e)}this.buildOptionsPromise=function(){var n=s.defer();return s.all([s.when(a.dtOptions),s.when(a.dtColumns),s.when(a.dtColumnDefs)]).then(function(e){var n,t=e[0],r=e[1],a=e[2];if(f.deleteProperty(t,"$promise"),f.deleteProperty(r,"$promise"),f.deleteProperty(a,"$promise"),m.isDefined(t)&&(n={},m.extend(n,t),m.isArray(r)&&(n.aoColumns=r),m.isArray(a)&&(n.aoColumnDefs=a),n.language&&n.language.url)){var o=s.defer(),i=n.language.url;d.get(n.language.url).then(function(e){o.resolve(e.data)},function(){u.error("Could not fetch the content of the language from "+i)}),n.language=o.promise}return f.resolveObjectPromises(n,["data","aaData","fnPromise"])}).then(function(e){n.resolve(e)}),n.promise},this.render=function(t,e,r){e.then(function(e){l.preRender(e);var n=a.datatable&&"ng"===a.datatable;o&&o._renderer?o._renderer.withOptions(e).render(t,a,r).then(function(e){i(o=e)}):c.fromOptions(e,n).render(t,a,r).then(function(e){i(o=e)})})}}}function t(t){return{newColumnDef:function(e){if(m.isUndefined(e))throw new Error('The parameter "targets" must be defined! See https://datatables.net/reference/option/columnDefs.targets');var n=Object.create(t.DTColumn);return m.isArray(e)?n.aTargets=e:n.aTargets=[e],n}}}function r(n,t,r){return{compileHtml:function(e){return n(m.element('<div class="'+r+'">'+t.loadingTemplate+"</div>"))(e)},isLoading:function(e){return e.hasClass(r)}}}function a(r){var a=[],t={showLoading:function(e,n){var t=m.element(r.compileHtml(n));e.after(t),e.hide(),t.show()},hideLoading:function(e){e.show();var n=e.next();r.isLoading(n)&&n.remove()},renderDataTable:function(e,n){var t="#"+e.attr("id");D.fn.dataTable.isDataTable(t)&&m.isObject(n)&&(n.destroy=!0);var r=e.DataTable(n),a=e.dataTable(),o={id:e.attr("id"),DataTable:r,dataTable:a};return i(n,o),o},hideLoadingAndRenderDataTable:function(e,n){return t.hideLoading(e),t.renderDataTable(e,n)},registerPlugin:function(e){a.push(e)},postRender:i,preRender:function(n){m.forEach(a,function(e){m.isFunction(e.preRender)&&e.preRender(n)})}};return t;function i(n,t){m.forEach(a,function(e){m.isFunction(e.postRender)&&e.postRender(n,t)})}}function o(d,t,u,c){return{create:function(e){var a,o,i,s=Object.create(t);function n(e,n){o=e,i=n;var t=c.newDTInstance(s),r=u.hideLoadingAndRenderDataTable(e,s.options);return a=r.DataTable,c.copyDTProperties(r,t),d.when(t)}return s.name="DTDefaultRenderer",s.options=e,s.render=n,s.reloadData=function(){},s.changeData=function(){},s.rerender=function(){a.destroy(),u.showLoading(o,i),n(o,i)},s}}}function i(t,h,r,D,a,T,m){return{create:function(e){var s,d,u,c,n,l,f=Object.create(a);return f.name="DTNGRenderer",f.options=e,f.render=function(e,n,t){s=t,u=e,c=n.$parent,l=m.newDTInstance(f);var r=h.defer(),a=s.match(/<tbody([\s\S]*)<\/tbody>/i)[1],o=a.match(/^\s*.+?\s+in\s+([a-zA-Z0-9\.-_$]*)\s*/m);if(!o)throw new Error('Expected expression in form of "_item_ in _collection_[ track by _id_]" but got "{0}".',a);var i=o[1];return c.$watchCollection(i,function(){d&&(T.showLoading(u,c),p()),D(function(){if(!d){T.preRender(f.options);var e=T.hideLoadingAndRenderDataTable(u,f.options);d=e.DataTable,m.copyDTProperties(e,l),r.resolve(l)}},0,!1)},!0),r.promise},f.reloadData=function(){t.warn("The Angular Renderer does not support reloading data. You need to do it directly on your model")},f.changeData=function(){t.warn("The Angular Renderer does not support changing the data. You need to change your model directly.")},f.rerender=function(){p(),T.showLoading(u,c),T.preRender(e),D(function(){var e=T.hideLoadingAndRenderDataTable(u,f.options);d=e.DataTable,m.copyDTProperties(e,l)},0,!1)},f;function p(){n&&n.$destroy(),d.ngDestroy(),d=null,u.html(s),n=c.$new(),r(u.contents())(n)}}}}function s(h,D,u,t,T,c){return{create:function(e){var a,l,r,o,f=null,p=Object.create(t);return p.name="DTPromiseRenderer",p.options=e,p.render=n,p.reloadData=function(n,t){var r=a&&a.page()?a.page():0;m.isFunction(p.options.fnPromise)?i(p.options.fnPromise,d).then(function(e){m.isFunction(n)&&n(e.DataTable.data()),!1===t&&e.DataTable.page(r).draw(!1)}):u.warn("In order to use the reloadData functionality with a Promise renderer, you need to provide a function that returns a promise.")},p.changeData=function(e){p.options.fnPromise=e,r.dtOptions.fnPromise=e,i(p.options.fnPromise,d)},p.rerender=function(){a.destroy(),T.showLoading(l,r),T.preRender(e),n(l,r)},p;function n(e,n){var t=h.defer();return o=c.newDTInstance(p),l=e,r=n,i(p.options.fnPromise,T.renderDataTable).then(function(e){a=e.DataTable,c.copyDTProperties(e,o),t.resolve(o)}),t.promise}function i(e,n){var t=h.defer();if(m.isUndefined(e))throw new Error("You must provide a promise or a function that returns a promise!");return f?f.then(function(){t.resolve(s(e,n))}):t.resolve(s(e,n)),t.promise}function s(e,u){var c=h.defer();return(f=m.isFunction(e)?e():e).then(function(e){var n,t,r,a,o,i=e;if(p.options.sAjaxDataProp)for(var s=p.options.sAjaxDataProp.split(".");s.length;){var d=s.shift();d in i&&(i=i[d])}f=null,c.resolve((n=p.options,t=l,r=i,a=u,o=h.defer(),delete r.$promise,n.aaData=r,D(function(){T.hideLoading(t),n.bDestroy=!0,o.resolve(a(t,n))},0,!1),o.promise))}),c.promise}function d(e,n){return a.clear(),a.rows.add(n.aaData).draw(n.redraw),{id:o.id,DataTable:o.DataTable,dataTable:o.dataTable}}}}}function d(d,u,t,c,l,f){return{create:function(e){var a,o,i,s=Object.create(t);return s.name="DTAjaxRenderer",s.options=e,s.render=n,s.reloadData=function(e,n){a&&a.ajax.reload(e,n)},s.changeData=function(e){s.options.ajax=e,i.dtOptions.ajax=e},s.rerender=function(){c.preRender(e),n(o,i)},s;function n(e,n){o=e,i=n;var t=d.defer(),r=f.newDTInstance(s);return m.isUndefined(s.options.sAjaxDataProp)&&(s.options.sAjaxDataProp=l.sAjaxDataProp),m.isUndefined(s.options.aoColumns)&&(s.options.aoColumns=l.aoColumns),function(e,n){var t=d.defer();e.bDestroy=!0,a&&(a.destroy(),c.showLoading(o,i),n.empty());c.hideLoading(n),r=e,m.isDefined(r)&&m.isDefined(r.dom)&&0<=r.dom.indexOf("S")?u(function(){t.resolve(c.renderDataTable(n,e))},0,!1):t.resolve(c.renderDataTable(n,e));var r;return t.promise}(s.options,e).then(function(e){a=e.DataTable,f.copyDTProperties(e,r),t.resolve(r)}),t.promise}}}}function u(t,r,a,o){return{fromOptions:function(e,n){if(n){if(e&&e.serverSide)throw new Error("You cannot use server side processing along with the Angular renderer!");return r.create(e)}if(m.isDefined(e)){if(m.isDefined(e.fnPromise)&&null!==e.fnPromise){if(e.serverSide)throw new Error("You cannot use server side processing along with the Promise renderer!");return a.create(e)}return m.isDefined(e.ajax)&&null!==e.ajax||m.isDefined(e.ajax)&&null!==e.ajax?o.create(e):t.create(e)}return t.create()}}}function c(s){return{overrideProperties:function e(n,t){var r=m.copy(n);(m.isUndefined(r)||null===r)&&(r={});if(m.isUndefined(t)||null===t)return r;if(m.isObject(t))for(var a in t)t.hasOwnProperty(a)&&(r[a]=e(r[a],t[a]));else r=m.copy(t);return r},deleteProperty:function(e,n){m.isObject(e)&&delete e[n]},resolveObjectPromises:a,resolveArrayPromises:d};function a(e,n){var r=s.defer(),t=[],a={},o=n||[];if(!m.isObject(e)||m.isArray(e))r.resolve(e);else{for(var i in a=m.extend(a,e))a.hasOwnProperty(i)&&-1===D.inArray(i,o)&&(m.isArray(a[i])?t.push(d(a[i])):t.push(s.when(a[i])));s.all(t).then(function(e){var n=0;for(var t in a)a.hasOwnProperty(t)&&-1===D.inArray(t,o)&&(a[t]=e[n++]);r.resolve(a)})}return r.promise}function d(e){var n=s.defer(),t=[],r=[];return m.isArray(e)?(m.forEach(e,function(e){m.isObject(e)?t.push(a(e)):t.push(s.when(e))}),s.all(t).then(function(e){m.forEach(e,function(e){r.push(e)}),n.resolve(r)})):n.resolve(e),n.promise}}m.module("datatables.directive",["datatables.instances","datatables.renderer","datatables.options","datatables.util"]).directive("datatable",n),n.$inject=["$q","$http","$log","DTRendererFactory","DTRendererService","DTPropertyUtil"],m.module("datatables.factory",[]).factory("DTOptionsBuilder",function(){var t={withOption:function(e,n){return m.isString(e)&&(this[e]=n),this},withSource:function(e){return this.ajax=e,this},withDataProp:function(e){return this.sAjaxDataProp=e,this},withFnServerData:function(e){if(!m.isFunction(e))throw new Error("The parameter must be a function");return this.fnServerData=e,this},withPaginationType:function(e){if(!m.isString(e))throw new Error("The pagination type must be provided");return this.sPaginationType=e,this},withLanguage:function(e){return this.language=e,this},withLanguageSource:function(e){return this.withLanguage({url:e})},withDisplayLength:function(e){return this.iDisplayLength=e,this},withFnPromise:function(e){return this.fnPromise=e,this},withDOM:function(e){return this.dom=e,this}};return{newOptions:function(){return Object.create(t)},fromSource:function(e){var n=Object.create(t);return n.ajax=e,n},fromFnPromise:function(e){var n=Object.create(t);return n.fnPromise=e,n}}}).factory("DTColumnBuilder",function(){var r={withOption:function(e,n){return m.isString(e)&&(this[e]=n),this},withTitle:function(e){return this.sTitle=e,this},withClass:function(e){return this.sClass=e,this},notVisible:function(){return this.bVisible=!1,this},notSortable:function(){return this.bSortable=!1,this},renderWith:function(e){return this.mRender=e,this}};return{newColumn:function(e,n){if(m.isUndefined(e))throw new Error('The parameter "mData" is not defined!');var t=Object.create(r);return t.mData=e,m.isDefined(n)&&(t.sTitle=n),t},DTColumn:r}}).factory("DTColumnDefBuilder",t).factory("DTLoadingTemplate",r),t.$inject=["DTColumnBuilder"],r.$inject=["$compile","DTDefaultOptions","DT_LOADING_CLASS"],m.module("datatables.instances",["datatables.util"]).factory("DTInstanceFactory",function(){var t={reloadData:function(e,n){this._renderer.reloadData(e,n)},changeData:function(e){this._renderer.changeData(e)},rerender:function(){this._renderer.rerender()}};return{newDTInstance:function(e){var n=Object.create(t);return n._renderer=e,n},copyDTProperties:function(e,n){n.id=e.id,n.DataTable=e.DataTable,n.dataTable=e.dataTable}}}),m.module("datatables",["datatables.directive","datatables.factory"]).run(function(){D.fn.DataTable.Api&&D.fn.DataTable.Api.register("ngDestroy()",function(p){return p=p||!1,this.iterator("table",function(n){var t,e=n.nTableWrapper.parentNode,r=n.oClasses,a=n.nTable,o=n.nTBody,i=n.nTHead,s=n.nTFoot,d=D(a),u=D(o),c=D(n.nTableWrapper),l=D.map(n.aoData,function(e){return e.nTr});n.bDestroying=!0,D.fn.DataTable.ext.internal._fnCallbackFire(n,"aoDestroyCallback","destroy",[n]),p||new D.fn.DataTable.Api(n).columns().visible(!0),c.unbind(".DT").find(":not(tbody *)").unbind(".DT"),D(h).unbind(".DT-"+n.sInstance),a!==i.parentNode&&(d.children("thead").detach(),d.append(i)),s&&a!==s.parentNode&&(d.children("tfoot").detach(),d.append(s)),d.detach(),c.detach(),n.aaSorting=[],n.aaSortingFixed=[],D.fn.DataTable.ext.internal._fnSortingClasses(n),D(l).removeClass(n.asStripeClasses.join(" ")),D("th, td",i).removeClass(r.sSortable+" "+r.sSortableAsc+" "+r.sSortableDesc+" "+r.sSortableNone),n.bJUI&&(D("th span."+r.sSortIcon+", td span."+r.sSortIcon,i).detach(),D("th, td",i).each(function(){var e=D("div."+r.sSortJUIWrapper,this);D(this).append(e.contents()),e.detach()})),!p&&e&&(e.contains(n.nTableReinsertBefore)?e.insertBefore(a,n.nTableReinsertBefore):e.appendChild(a)),d.css("width",n.sDestroyWidth).removeClass(r.sTable),(t=n.asDestroyStripes.length)&&u.children().each(function(e){D(this).addClass(n.asDestroyStripes[e%t])});var f=D.inArray(n,D.fn.DataTable.settings);-1!==f&&D.fn.DataTable.settings.splice(f,1)})})}),m.module("datatables.options",[]).constant("DT_DEFAULT_OPTIONS",{sAjaxDataProp:"",aoColumns:[]}).constant("DT_LOADING_CLASS","dt-loading").service("DTDefaultOptions",function(){var n={loadingTemplate:"<h3>Loading...</h3>",bootstrapOptions:{},setLoadingTemplate:function(e){return n.loadingTemplate=e,n},setLanguageSource:function(e){return D.ajax({dataType:"json",url:e,success:function(e){D.extend(!0,D.fn.DataTable.defaults,{language:e})}}),n},setLanguage:function(e){return D.extend(!0,D.fn.DataTable.defaults,{language:e}),n},setDisplayLength:function(e){return D.extend(D.fn.DataTable.defaults,{displayLength:e}),n},setBootstrapOptions:function(e){return n.bootstrapOptions=e,n},setDOM:function(e){return D.extend(D.fn.DataTable.defaults,{dom:e}),n},setOption:function(e,n){if(m.isString(e)){var t={};t[e]=n,D.extend(D.fn.DataTable.defaults,t)}}};return n}),m.module("datatables.renderer",["datatables.instances","datatables.factory","datatables.options","datatables.instances"]).factory("DTRendererService",a).factory("DTRenderer",function(){return{withOptions:function(e){return this.options=e,this}}}).factory("DTDefaultRenderer",o).factory("DTNGRenderer",i).factory("DTPromiseRenderer",s).factory("DTAjaxRenderer",d).factory("DTRendererFactory",u),a.$inject=["DTLoadingTemplate"],o.$inject=["$q","DTRenderer","DTRendererService","DTInstanceFactory"],i.$inject=["$log","$q","$compile","$timeout","DTRenderer","DTRendererService","DTInstanceFactory"],s.$inject=["$q","$timeout","$log","DTRenderer","DTRendererService","DTInstanceFactory"],d.$inject=["$q","$timeout","DTRenderer","DTRendererService","DT_DEFAULT_OPTIONS","DTInstanceFactory"],u.$inject=["DTDefaultRenderer","DTNGRenderer","DTPromiseRenderer","DTAjaxRenderer"],m.module("datatables.util",[]).factory("DTPropertyUtil",c),c.$inject=["$q"]}(window,document,jQuery,angular);
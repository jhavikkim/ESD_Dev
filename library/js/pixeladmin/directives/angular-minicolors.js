function minicolorsDirective(p){"use strict";var f=["animationSpeed","animationEasing","changeDelay","control","dataUris","defaultValue","format","hideSpeed","inline","opacity","keywords","letterCase","position","showSpeed","theme","swatches"],y=["onChange","onHide","onShow"];function d(o){return o.replace(/^on([A-Z])/,function(o,n){return n.toLowerCase()})}return{restrict:"A",scope:{color:"=",animationSpeed:"=",animationEasing:"=",changeDelay:"=",control:"=",dataUris:"=",defaultValue:"=",format:"=",hideSpeed:"=",inline:"=",opacity:"=",keywords:"=",letterCase:"=",position:"=",showSpeed:"=",theme:"=",swatches:"="},link:function(e,i,n){var o=n.instance?p(n.instance).assign:angular.noop;e.color||(e.color={}),"string"!=typeof e.color.value&&(e.color.value="");var c={},t=void 0;function a(){f.forEach(function(o){c[o]=e[o]}),c.opacity?("number"!=typeof e.color.opacity&&(e.color.opacity=1),i[0].setAttribute("data-opacity",e.color.opacity)):i[0].removeAttribute("data-opacity")}function r(o,n){return[String(o),String(Number(n))].join("|")}function l(o){return t!==o}function s(o){t=o}y.forEach(function(o){n[o]&&(c[d(o)]=p(n[o])(e.$parent))}),a(),y.forEach(function(o){n[o]&&(c[d(o)]=p(n[o])(e.$parent))});var u=c.change||function(){};c.change=function(){for(var o=this,n=arguments.length,i=Array(n),t=0;t<n;t++)i[t]=arguments[t];var a=r(i[0],c.opacity?i[1]:1);l(a)&&(s(a),e.$applyAsync(function(){e.color.value=i[0],c.opacity&&(e.color.opacity=i[1]),u.apply(o,i)}))},i.val(e.color.value),i.minicolors(c),o(e.$parent,$.fn.minicolors.bind(i)),e.$watch("color",function(o){var n=r(o.value,c.opacity?o.opacity:1);l(n)&&(s(n),c.opacity?i.minicolors("value",{color:o.value,opacity:o.opacity}):i.minicolors("value",o.value))},!0),f.forEach(function(o){e.$watch(o,function(o){void 0!==o&&(a(),i.minicolors("settings",c))})}),i.on("$destroy",function(){i.minicolors("destroy")})}}}angular.module("minicolors",[]).directive("minicolors",["$parse",minicolorsDirective]);
var _createClass=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxSparkline=function(u){"use strict";if(!u.fn.sparkline)throw new Error("jquery.sparkline.js required.");var t="pxSparkline",l="px.sparkline",e="."+l,n=u.fn[t],r={RESIZE:"resize"+e},a=function(){function s(t,e,n){_classCallCheck(this,s),this.uniqueId=pxUtil.generateUniqueId(),this.element=t,this.$parent=u(t.parentNode),this.update(e,n),this._setListeners()}return _createClass(s,[{key:"update",value:function(t,e){null!==t&&(this._values=t),null!==e&&("100%"!==e.width||"bar"!==e.type&&"tristate"!==e.type||void 0!==e.barSpacing||(e.barSpacing="2px"),this.config=e);var n=u.extend(!0,{},this.config);"100%"===n.width&&("bar"===n.type||"tristate"===n.type?n.barWidth=this._getBarWidth(this.$parent,this._values.length,n.barSpacing):n.width=Math.floor(this.$parent.width())),u(this.element).sparkline(this._values,n)}},{key:"destroy",value:function(){this._unsetListeners(),u(this.element).removeData(l).removeData("_jqs_mhandler").removeData("_jqs_vcanvas").off().find("canvas").remove()}},{key:"_getBarWidth",value:function(t,e,n){var r=t.width(),a=parseInt(n,10)*(e-1);return Math.floor((r-a)/e)}},{key:"_setListeners",value:function(){var e=this;u(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,function(){if("100%"===e.config.width){var t=u.extend(!0,{},e.config);"bar"===t.type||"tristate"===t.type?t.barWidth=e._getBarWidth(e.$parent,e._values.length,t.barSpacing):t.width=Math.floor(e.$parent.width()),u(e.element).sparkline(e._values,t)}})}},{key:"_unsetListeners",value:function(){u(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId)}}],[{key:"_parseArgs",value:function(t,e){var n=void 0,r=void 0;return r="[object Array]"===Object.prototype.toString.call(e[0])||"html"===e[0]||null===e[0]?(n=e[0],e[1]||null):e[0]||null,"html"!==n&&void 0!==n||null===n||(null==(n=t.getAttribute("values"))&&(n=u(t).html()),n=n.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")),n&&"[object Array]"===Object.prototype.toString.call(n)&&0!==n.length||(n=null),{values:n,config:r}}},{key:"_jQueryInterface",value:function(){for(var t=arguments.length,i=Array(t),e=0;e<t;e++)i[e]=arguments[e];return this.each(function(){var t=u(this).data(l),e="update"===i[0]||"destroy"===i[0]?i[0]:null,n=s._parseArgs(this,e?i.slice(1):i),r=n.values,a=n.config;t?r&&t.update(r,a):(t=new s(this,r||[],a||{}),u(this).data(l,t)),"update"===e?t.update(r,a):"destroy"===e&&t.destroy()})}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return l}},{key:"Event",get:function(){return r}},{key:"EVENT_KEY",get:function(){return e}}]),s}();return u.fn[t]=a._jQueryInterface,u.fn[t].Constructor=a,u.fn[t].noConflict=function(){return u.fn[t]=n,a._jQueryInterface},a}(jQuery);
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var PxTabResize=function(o){"use strict";var e="pxTabResize",s="px.tab-resize",t="."+s,n=o.fn[e],r={template:'\n<li class="dropdown">\n  <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"></a>\n  <ul class="dropdown-menu"></ul>\n</li>',content:'<span class="tab-resize-icon"></span>'},a="tab-resize",l="tab-resize-nav",u="show",f="active",c="> li:not(.tab-resize)",h="> a",d="> .dropdown-toggle",p="> .dropdown-menu",m="> li",v={RESIZE:"resize"+t,CLICK:"click"+t},i=function(){function i(e,t){_classCallCheck(this,i),this.uniqueId=pxUtil.generateUniqueId(),this.config=this._getConfig(t),this.element=o(e).find("> .nav")[0]||e,pxUtil.addClass(e,l),this.navItem=this._createNavItemElement(),this.navLink=this._getNavLinkElement(),this.dropdown=this._getDropdownElement(),this._setListeners(),this.placeTabs()}return _createClass(i,[{key:"placeTabs",value:function(){this._resetDropdown();var e=o(this.element).find(c),t=e.length-1,n=e[t],i=n?e[0].offsetTop:0;if(!n||n.offsetTop<=i)pxUtil.removeClass(this.navItem,u);else for(pxUtil.addClass(this.navItem,u);n&&!(n.offsetTop<=i);)this._moveItemToDropdown(n),n=e[--t]}},{key:"destroy",value:function(){this._unsetListeners(),this._resetDropdown(),o(this.navItem).remove(),pxUtil.removeClass(this.element,l),o(this.element).removeData(s)}},{key:"_createNavItemElement",value:function(){var e=o(this.config.template).addClass(a)[0];return this.element.insertBefore(e,this.element.firstChild),e}},{key:"_getNavLinkElement",value:function(){return o(this.navItem).find(d).html(this.config.content)[0]}},{key:"_getDropdownElement",value:function(){return o(this.navItem).find(p)[0]}},{key:"_moveItemToDropdown",value:function(e){o(this.dropdown).prepend(e),pxUtil.hasClass(e,f)&&(pxUtil.addClass(this.navItem,f),this.navLink.innerHTML=o(e).find(h)[0].innerHTML)}},{key:"_resetDropdown",value:function(){pxUtil.removeClass(this.navItem,f),this.navLink.innerHTML=this.config.content,o(this.element).append(o(this.dropdown).find(m))}},{key:"_setListeners",value:function(){var e=this;o(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,o.proxy(this.placeTabs,this)),o(this.element).on(this.constructor.Event.CLICK,c+", > ."+a+" li",function(){return setTimeout(o.proxy(e.placeTabs,e,10))})}},{key:"_unsetListeners",value:function(){o(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId),o(this.element).off(t)}},{key:"_getConfig",value:function(e){return o.extend({},this.constructor.Default,e)}}],[{key:"_jQueryInterface",value:function(n){return this.each(function(){var e=o(this).data(s),t="object"===(void 0===n?"undefined":_typeof(n))?n:null;if(e||(e=new i(this,t),o(this).data(s,e)),"string"==typeof n){if(!e[n])throw new Error('No method named "'+n+'"');e[n]()}})}},{key:"Default",get:function(){return r}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return s}},{key:"Event",get:function(){return v}},{key:"EVENT_KEY",get:function(){return t}}]),i}();return o.fn[e]=i._jQueryInterface,o.fn[e].Constructor=i,o.fn[e].noConflict=function(){return o.fn[e]=n,i._jQueryInterface},i}(jQuery);
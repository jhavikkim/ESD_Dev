var _createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxFile=function(i){"use strict";var t="pxFile",r="px.file",e="."+r,n=i.fn[t],o="px-file-browse",s="px-file-clear",u="px-file-has-value",c={CLICK:"click"+e,CHANGE:"change"+e},l=function(){function n(t){_classCallCheck(this,n),this.element=t,this.input=i(t).find(".custom-file-input")[0],this.control=i(t).find(".custom-file-control")[0],this.placeholder=this.control.innerHTML,this._checkElement(),this._checkInput(),this._checkControl(),this._setListeners(),this.update()}return _createClass(n,[{key:"browse",value:function(){i(this.input).trigger("click")}},{key:"clear",value:function(){i(this.input).is(":disabled")||(i(this.input).wrap("<form>").parent().on("reset",function(t){t.stopPropagation()}).trigger("reset"),i(this.input).unwrap(),i(this.input).trigger("change"))}},{key:"update",value:function(){var t=(this.input.value||"").replace(/\\/g,"/").split("/").pop();t?i(this.control).text(t):this.control.innerHTML=this.placeholder,pxUtil[t?"addClass":"removeClass"](this.element,u)}},{key:"destroy",value:function(){this._unsetListeners(),i(this.element).removeData(r)}},{key:"_checkElement",value:function(){if(!pxUtil.hasClass(this.element,"custom-file"))throw new Error(t+" plugin must be called on a custom file input wrapper.")}},{key:"_checkInput",value:function(){if(!this.input)throw new Error("File input is not found.")}},{key:"_checkControl",value:function(){if(!this.control)throw new Error(".custom-file-control element is not found.")}},{key:"_rejectEvent",value:function(t){t&&(t.stopPropagation(),t.preventDefault())}},{key:"_setListeners",value:function(){var e=this;i(this.element).find("."+o).on(this.constructor.Event.CLICK,function(t){e._rejectEvent(t),e.browse(),i(e.input).trigger("focus")}),i(this.element).find("."+s).on(this.constructor.Event.CLICK,function(t){e._rejectEvent(t),e.clear(),i(e.input).trigger("focus")}),i(this.input).on(this.constructor.Event.CHANGE,i.proxy(this.update,this))}},{key:"_unsetListeners",value:function(){i(this.element).find("."+o).off(e),i(this.element).find("."+s).off(e),i(this.input).off(e)}}],[{key:"_jQueryInterface",value:function(e){return this.each(function(){var t=i(this).data(r);if(t||(t=new n(this),i(this).data(r,t)),"string"==typeof e){if(!t[e])throw new Error('No method named "'+e+'".');t[e]()}})}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return r}},{key:"Event",get:function(){return c}},{key:"EVENT_KEY",get:function(){return e}}]),n}();return i.fn[t]=l._jQueryInterface,i.fn[t].Constructor=l,i.fn[t].noConflict=function(){return i.fn[t]=n,l._jQueryInterface},l}(jQuery);
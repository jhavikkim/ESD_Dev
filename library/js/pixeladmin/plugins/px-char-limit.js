var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxCharLimit=function(r){"use strict";var t="pxCharLimit",o="px.charLimit",e="."+o,n=r.fn[t],s={maxlength:null,counter:""},u={CHANGE:"change"+e,KEYUP:"keyup"+e,FOCUS:"focus"+e},i=function(){function i(t,e){_classCallCheck(this,i),this.element=t,this.isTextarea=r(t).is("textarea"),this.config=this._getConfig(e),this.counter=this._getLabel(),this._setMaxLength(),this._setListeners(),this.update()}return _createClass(i,[{key:"update",value:function(){var t=this.config.maxlength,e=this.element.value,n=void 0;this.isTextarea&&(e=e.replace(/\r?\n/g,"\n")),t<(n=e.length)&&(r(this.element).val(e.substr(0,t)).trigger("change"),n=t),this.counter&&(this.counter.innerHTML=t-n)}},{key:"destroy",value:function(){this._unsetListeners(),r(this.element).removeData(o)}},{key:"_getLabel",value:function(){return this.config.counter?"string"==typeof this.config.counter?r(this.config.counter)[0]||null:this.config.counter:null}},{key:"_setMaxLength",value:function(){this.isTextarea?this.element.removeAttribute("maxlength"):this.element.setAttribute("maxlength",this.config.maxlength)}},{key:"_setListeners",value:function(){r(this.element).on(this.constructor.Event.CHANGE,r.proxy(this.update,this)).on(this.constructor.Event.KEYUP,r.proxy(this.update,this)).on(this.constructor.Event.FOCUS,r.proxy(this.update,this))}},{key:"_unsetListeners",value:function(){r(this.element).off(e)}},{key:"_getConfig",value:function(t){var e=r.extend({},this.constructor.Default,{maxlength:this.element.getAttribute("maxlength")},r(this.element).data(),t);if(!e.maxlength)throw new Error("maxlength is not specified.");return this.isTextarea&&this.element.getAttribute("maxlength")&&this.element.removeAttribute("maxlength"),e}}],[{key:"_jQueryInterface",value:function(n){return this.each(function(){var t=r(this).data(o),e="object"===(void 0===n?"undefined":_typeof(n))?n:null;if(t||(t=new i(this,e),r(this).data(o,t)),"string"==typeof n){if(!t[n])throw new Error('No method named "'+n+'"');t[n]()}})}},{key:"Default",get:function(){return s}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return o}},{key:"Event",get:function(){return u}},{key:"EVENT_KEY",get:function(){return e}}]),i}();return r.fn[t]=i._jQueryInterface,r.fn[t].Constructor=i,r.fn[t].noConflict=function(){return r.fn[t]=n,i._jQueryInterface},i}(jQuery);
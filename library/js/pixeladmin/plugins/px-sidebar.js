var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxSidebar=function(r){"use strict";var t="pxSidebar",o="px.sidebar",e="."+o,n=r.fn[t],s="px-navbar-fixed",l="px-sidebar-left",a={RESIZE:"resize"+e,SCROLL:"scroll"+e,CLICK_DATA_API:"click"+e+".data-api",EXPAND:"expand"+e,EXPANDED:"expanded"+e,COLLAPSE:"collapse"+e,COLLAPSED:"collapsed"+e},i='[data-toggle="sidebar"]',c=".px-sidebar-content",u=".navbar-header",h={width:null,enableScrollbar:!0,desktopMode:["lg","xl"],navbarSelector:"> .px-navbar"},f=function(){function i(t,e){_classCallCheck(this,i),this.uniqueId=pxUtil.generateUniqueId(),this.element=t,this.$content=r(t).find(c),this.parent=t.parentNode,this.config=this._getConfig(e),this._isRtl="rtl"===r("html").attr("dir"),this._setWidth(),this._setScrollbar(),this._checkMode(),this._setListeners()}return _createClass(i,[{key:"toggle",value:function(){this._triggerPreventableEvent(pxUtil.hasClass(this.element,"open")?"COLLAPSE":"EXPAND",this.element)&&(pxUtil.toggleClass(this.element,"open"),this._triggerEvent(pxUtil.hasClass(this.element,"open")?"EXPANDED":"COLLAPSED",this.element))}},{key:"update",value:function(){var t=r(this.parent).find(this.config.navbarSelector+" "+u);if(t.length){var e=t.height();if(pxUtil.hasClass(this.parent,s)||!this._positioning)this.element.style.top=e+"px";else{var n=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop||0;this.element.style.top=e<n?"0px":e-n+"px"}}this.config.enableScrollbar&&this.$content.perfectScrollbar("update")}},{key:"destroy",value:function(){this._unsetListeners(),this._unsetScrollbar(),r(this.element).removeData(o)}},{key:"_setWidth",value:function(){var t=parseInt(this.config.width||r(this.element).width(),10),e=void 0;e=this._isRtl?pxUtil.hasClass(this.element,l)?"right":"left":pxUtil.hasClass(this.element,l)?"left":"right",this.element.style.width=t+"px",this.element.style[e]="-"+t+"px"}},{key:"_checkMode",value:function(){this._positioning=-1!==this.config.desktopMode.indexOf(window.PixelAdmin.getScreenSize()),this.update()}},{key:"_setScrollbar",value:function(){if(this.config.enableScrollbar){if(!this.$content.length)throw new Error(".px-sidebar-content element is not found.");this.$content.perfectScrollbar()}}},{key:"_unsetScrollbar",value:function(){this.config.enableScrollbar&&this.$content.length&&this.$content.perfectScrollbar("destroy")}},{key:"_triggerEvent",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};r(this.element).trigger(r.Event(this.constructor.Event[t],{target:e}),[n])}},{key:"_triggerPreventableEvent",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=r.Event(this.constructor.Event[t],{target:e});return r(this.element).trigger(i,[n]),!i.isDefaultPrevented()}},{key:"_setListeners",value:function(){r(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,r.proxy(this._checkMode,this)).on(this.constructor.Event.SCROLL+"."+this.uniqueId,r.proxy(this.update,this))}},{key:"_unsetListeners",value:function(){r(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId).off(this.constructor.Event.SCROLL+"."+this.uniqueId)}},{key:"_getConfig",value:function(t){return r.extend({},this.constructor.Default,r(this.element).data(),t)}}],[{key:"_jQueryInterface",value:function(n){return this.each(function(){var t=r(this).data(o),e="object"===(void 0===n?"undefined":_typeof(n))?n:null;if(t||(t=new i(this,e),r(this).data(o,t)),"string"==typeof n){if(!t[n])throw new Error('No method named "'+n+'"');t[n]()}})}},{key:"Default",get:function(){return h}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return o}},{key:"Event",get:function(){return a}},{key:"EVENT_KEY",get:function(){return e}}]),i}();return r(document).on(a.CLICK_DATA_API,i,function(t){t.preventDefault();var e=this.getAttribute("data-target"),n=e?r(e)[0]:null;n&&(r(n).data(o)||f._jQueryInterface.call(r(n),r(this).data()),f._jQueryInterface.call(r(n),"toggle"))}),r.fn[t]=f._jQueryInterface,r.fn[t].Constructor=f,r.fn[t].noConflict=function(){return r.fn[t]=n,f._jQueryInterface},f}(jQuery);
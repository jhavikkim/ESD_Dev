var _createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var PxNavbar=function(l){"use strict";var e="pxNavbar",a="px.navbar",t="."+a,n=l.fn[e],r="px-navbar",i="px-navbar-collapse-inner",s="in",c="collapsed",u='.navbar-toggle[data-toggle="collapse"]',h='.dropdown-toggle[data-toggle="dropdown"]',p=".navbar-collapse",d=".dropdown",f={CLICK_DATA_API:"click"+t+".data-api",RESIZE:"resize"+t,CLICK:"click"+t,MOUSEDOWN:"mousedown"+t,COLLAPSE_SHOW:"show.bs.collapse"+t,COLLAPSE_SHOWN:"shown.bs.collapse"+t,COLLAPSE_HIDDEN:"hidden.bs.collapse"+t,DROPDOWN_SHOWN:"shown.bs.dropdown"+t,DROPDOWN_HIDDEN:"hidden.bs.dropdown"+t},o=function(){function o(e){if(_classCallCheck(this,o),!l.fn.perfectScrollbar)throw new Error('Scrolling feature requires the "perfect-scrollbar" plugin included.');this.uniqueId=pxUtil.generateUniqueId(),this.element=e,this.$collapse=l(e).find(p),this.$toggle=l(e).find(u),this._scrollbarEnabled=0,this._curScrollTop=0,this.$collapse.length&&this.$toggle.length&&(this.$inner=this._setupInnerContainer(),this._setListeners())}return _createClass(o,[{key:"updateScrollbar",value:function(){this._scrollbarEnabled&&(this._updateHeight(),this.$inner.scrollTop(this._curScrollTop).perfectScrollbar("update"))}},{key:"destroy",value:function(){this._unsetListeners(),this._disableScrollbar(),this.$collapse.append(this.$inner.find("> *")),this.$inner.remove(),l(this.element).removeData(a)}},{key:"_updateHeight",value:function(){var e=l(window).height()-this.$collapse[0].offsetTop;this.$collapse.height(""),e<this.$collapse.height()&&this.$collapse.height(e+"px")}},{key:"_enableScrollbar",value:function(){this._scrollbarEnabled||(this._updateHeight(),this.$inner.perfectScrollbar({suppressScrollX:!0}),this._scrollbarEnabled=1)}},{key:"_disableScrollbar",value:function(){this._scrollbarEnabled&&(this.$collapse.height(""),this.$inner.perfectScrollbar("destroy"),this._scrollbarEnabled=0)}},{key:"_setupInnerContainer",value:function(){var e=l('<div class="'+i+'"></div>');return e.append(this.$collapse.find("> *")),this.$collapse.append(e),e}},{key:"_setListeners",value:function(){var e=this,t=this;l(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,function(){e._scrollbarEnabled&&(e.$toggle.is(":visible")?(e._curScrollTop=e.$inner[0].scrollTop,e.updateScrollbar()):(e._disableScrollbar(),e.$collapse.removeClass(s),e.$toggle.addClass(c),e.$collapse.attr("aria-expanded","false"),e.$toggle.attr("aria-expanded","false")))}),l(this.element).on(this.constructor.Event.COLLAPSE_SHOW,p,function(){e.$collapse.find(".dropdown.open").removeClass("open")}).on(this.constructor.Event.COLLAPSE_SHOWN,p,function(){e._enableScrollbar()}).on(this.constructor.Event.COLLAPSE_HIDDEN,p,function(){e._disableScrollbar()}).on(this.constructor.Event.DROPDOWN_SHOWN+" "+this.constructor.Event.DROPDOWN_HIDDEN,d,function(){e.updateScrollbar()}).on(this.constructor.Event.MOUSEDOWN,h,function(){if(!e._scrollbarEnabled)return!0;e._curScrollTop=e.$inner[0].scrollTop}).on(this.constructor.Event.CLICK,h,function(e){return!t._scrollbarEnabled||(!this.getAttribute("href")||"#"===this.getAttribute("href")||(e.preventDefault(),e.stopPropagation(),this.removeAttribute("data-toggle"),this.click(),void this.setAttribute("data-toggle","dropdown")))})}},{key:"_unsetListeners",value:function(){l(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId),l(this.element).off(t)}}],[{key:"_jQueryInterface",value:function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.each(function(){var e=l(this).data(a);if(e||(e=new o(this),l(this).data(a,e),l.support.transition||"true"!==l(this).find(u).attr("aria-expanded")||e._enableScrollbar()),"string"==typeof t){if(!e[t])throw new Error('No method named "'+t+'"');e[t].apply(e,n)}})}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return a}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return t}}]),o}();return l(document).on(f.CLICK_DATA_API,"."+r+" "+u,function(e){e.preventDefault();var t=l(this).parents("."+r);t.length&&(t.data(a)||o._jQueryInterface.call(t))}),l.fn[e]=o._jQueryInterface,l.fn[e].Constructor=o,l.fn[e].noConflict=function(){return l.fn[e]=n,o._jQueryInterface},o}(jQuery);